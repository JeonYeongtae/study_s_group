# Ch06. 데이터베이스

---

## 🔹 데이터베이스와 DBMS

### 📌 데이터베이스란?

- **여러 사람이 공유하고 사용하는 목적**으로 체계화하여 통합, 관리하는 **데이터의 집합**
- 예시:
  - 학교 웹사이트: 학생 정보, 학과 정보 등
  - 쇼핑몰 웹사이트: 결제 정보, 상품 정보 등

👉 **특정 기능을 수행하기 위해 반드시 저장해야 할 정보의 모음**

---

### 📌 DBMS (Database Management System)

- **데이터베이스를 관리하는 프로그램**

### ✅ DBMS의 종류

| 구분               | 설명                        | 예시                                                   |
| ------------------ | --------------------------- | ------------------------------------------------------ |
| RDBMS(관계형 DBMS) | 표 형태로 데이터 관리       | MySQL, Oracle, PostgreSQL, SQLite, MariaDB, SQL Server |
| NoSQL DBMS         | 비정형/반정형 데이터에 적합 | MongoDB, Redis 등                                      |

👉 **실무에서는 주로 RDBMS 사용, 그중 MySQL의 점유율이 가장 높음**

---

### 📌 DBMS의 역할: 명령어 종류

### 🔹 DDL (데이터 정의어)

| 명령어   | 설명                                 |
| -------- | ------------------------------------ |
| CREATE   | 데이터베이스/테이블/뷰/인덱스 생성   |
| ALTER    | 데이터베이스 객체 수정               |
| DROP     | 데이터베이스 객체 삭제               |
| TRUNCATE | 테이블 구조는 유지, 모든 레코드 삭제 |

### 🔹 DML (데이터 조작어)

| 명령어 | 설명        |
| ------ | ----------- |
| SELECT | 레코드 조회 |
| INSERT | 레코드 삽입 |
| UPDATE | 레코드 갱신 |
| DELETE | 레코드 삭제 |

### 🔹 DCL (데이터 제어어)

| 명령어    | 설명                 |
| --------- | -------------------- |
| COMMIT    | 변경 내용 확정       |
| ROLLBACK  | 이전 상태로 되돌리기 |
| SAVEPOINT | ROLLBACK 기준점 설정 |

### 🔹 TCL (트랜잭션 제어어)

| 명령어 | 설명                   |
| ------ | ---------------------- |
| GRANT  | 사용자에게 권한 부여   |
| REVOKE | 사용자로부터 권한 회수 |

---

## 🔹 파일 대신 DB를 사용하는 이유

- 데이터 **일관성/무결성** 보장이 어려움
- 중복 저장 증가
- 데이터 **수정 시 연관 데이터 관리 어려움**
- **복잡한 검색 불가능**
- **백업 및 복구 어려움**

---

## 🔹 데이터베이스의 구성 개념

### 📌 저장 단위

| 용어             | 설명                           | 예시                                |
| ---------------- | ------------------------------ | ----------------------------------- |
| Entity (엔티티)  | 독립적으로 존재할 수 있는 객체 | ID: kimhanbit123, 이름: 김한빛      |
| Attribute (속성) | 엔티티의 특징                  | 구매자 ID, 이름, 성별, 제품 번호 등 |

👉 같은 속성을 가진 엔티티는 **같은 엔티티 집합(entity set)** 에 속함

### 📌 스키마

- 데이터베이스에 저장되는 **레코드 구조와 제약 조건**
- RDBMS에서는 **명확한 스키마 필수**

---

## 🔹 트랜잭션과 ACID 원칙

### 📌 트랜잭션이란?

- 데이터베이스와의 **논리적 상호작용의 최소 단위**

### 📌 ACID 속성

| 속성                 | 설명                                          |
| -------------------- | --------------------------------------------- |
| 원자성 (Atomicity)   | 모두 수행되거나, 전혀 수행되지 않음           |
| 일관성 (Consistency) | 트랜잭션 전후 데이터 무결성 유지              |
| 격리성 (Isolation)   | 동시에 실행되는 트랜잭션이 서로 간섭하지 않음 |
| 지속성 (Durability)  | 성공한 트랜잭션의 결과는 영구 저장됨          |

---

## ✅ RDBMS 기본 개념

### 📌 테이블 구조

- **필드(Field)**: 컬럼, 속성
- **레코드(Record)**: 행, 데이터 하나의 묶음
- **필드 타입 (MySQL 기준)**: 숫자형, 문자형, 날짜/시간형 등

### 📌 키의 종류

| 종류    | 설명                                |
| ------- | ----------------------------------- |
| 후보 키 | 후보가 될 수 있는 유일 식별자들     |
| 기본 키 | 후보 키 중 하나를 선택한 것         |
| 대체 키 | 기본 키가 아닌 후보 키              |
| 복합 키 | 2개 이상의 필드로 구성된 키         |
| 슈퍼 키 | 유일성을 만족하는 모든 키           |
| 외래 키 | 다른 테이블의 기본 키를 참조하는 키 |

---

### 📌 테이블 간 관계

| 관계 유형    | 설명                                                |
| ------------ | --------------------------------------------------- |
| 일대일 (1:1) | 한 레코드가 다른 테이블의 레코드 한 개와만 연결     |
| 일대다 (1:N) | 한 레코드가 다른 테이블의 여러 레코드와 연결        |
| 다대다 (N:M) | 다수의 레코드가 서로 다수와 연결 (중간 테이블 필요) |

---

## 🔹 무결성 제약 조건

| 제약 조건     | 설명                                       |
| ------------- | ------------------------------------------ |
| 도메인 제약   | 필드의 데이터 타입, 범위 제한              |
| 키 제약       | 키는 중복될 수 없음                        |
| 엔티티 무결성 | 기본 키는 NULL 불가, 고유해야 함           |
| 참조 무결성   | 외래 키는 참조 대상의 존재가 보장되어야 함 |
